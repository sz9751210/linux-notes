# date

- 用途：顯示或設定系統的日期與時間

## 語法

```shell
date [OPTIONS] +%[format-option]
```

## 參數

| 參數                                | 說明                                             |
| ----------------------------------- | ------------------------------------------------ |
| -d, --date=STRING                   | 顯示字串所指的日期與時間。字串前後必須加上雙引號 |
| -f, --file=DATEFILE                 | 類似--date，從日期檔案中按行讀入時間描述         |
| -I[TIMESPEC], --iso-8601[=TIMESPEC] | 以ISO 8601格式輸出日期和時間                     |
| -r, --reference=FILE                | 顯示檔案指定檔案的最後修改時間                   |
| -R, --rfc-2822                      | 以RFC 2822格式輸出日期和時間                     |
| --rfc-3339=TIMESPEC                 | RFC 3339 格式輸出日期和時間                      |
| -s, --set=STRING                    | 根據字串來設置日期與時間。字串前後必須加上雙引號 |
| -u, --utc, --universal              | 顯示GMT                                          |

## 格式

| 格式           | 說明                                                           |
| -------------- | -------------------------------------------------------------- |
| %a             | 星期的縮寫                                                     |
| %A             | 星期的完整名稱                                                 |
| %b             | 月份英文名的縮寫                                               |
| %B             | 月份的完整英文名稱                                             |
| %c             | 日期與時間。只輸入date指令也會顯示同樣的結果                   |
| %C             | 世紀; 與`%Y`相似，省略最後兩位數字                             |
| %d             | 日期(以01-31來表示)                                            |
| %D             | 日期(含年月日)                                                 |
| %e             | 一個月中的第幾天，與`%_d`相同                                  |
| %F             | 完整日期；與 `%Y-%m-%d` 相同                                   |
| %g             | ISO-8601 格式年份的最後兩位 (參見%G)                           |
| %G             | ISO-8601 格式年份 (參見%V)，一般只和 %V 結合使用               |
| %h             | 與`%b`相同                                                     |
| %H             | 小時(以00-23來表示)                                            |
| %I             | 小時(以01-12來表示)                                            |
| %j             | 該年中的第幾天                                                 |
| %k             | 小時(以0-23來表示)                                             |
| %l             | 小時(以0-12來表示)                                             |
| %m             | 月份(以01-12來表示)                                            |
| %M             | 分鐘(以00-59來表示)                                            |
| %n             | 在顯示時，插入新的一行                                         |
| %N             | 奈秒來表示(nanoseconds)                                        |
| %p             | AM或PM                                                         |
| %P             | am或pm                                                         |
| %r             | 時間(含時分秒，小時以12小時AM/PM來表示)                        |
| %R             | 24小時制顯示小時及分鐘，等於`%H:%M`                            |
| %s             | 總秒數。起算時間為1970-01-01 00:00:00 UTC                      |
| %S             | 秒(以本地的慣用法來表示)                                       |
| %t             | 在顯示時，插入tab                                              |
| %T             | 時間(含時分秒，小時以24小時制來表示)                           |
| %u             | 該周的天數(1..7)，7代表周日，1代表週一                         |
| %U             | 該年中的周數                                                   |
| %V             | ISO-8601 格式規範下的一年中第幾周，以週一為每星期第一天(01-53) |
| %w             | 該周的天數(0..6)，0代表周日，1代表週一                         |
| %W             | 一年中的第幾周 (00..53) (以 Monday 為一周的第一天的情形)       |
| %x             | 日期(以本地的慣用法來表示)                                     |
| %X             | 時間(含時分秒，小時以24小時AM/PM來表示)                        |
| %y             | 年份(以00-99來表示)                                            |
| %Y             | 年份(以四位數來表示)                                           |
| %z  hhmm       | 數字時區(例如，-0400)                                          |
| %:z   hh:mm    | 數字時區(例如，-04:00)                                         |
| %::z  hh:mm:ss | 數字時區(例如，-04:00:00)                                      |
| %:::z          | 數字時區帶有必要的精度 (例如，-04， 05:30)                     |
| %Z             | 按字母表排序的時區縮寫 (例如，EDT)                             |

預設情況下，日期的數字區域以`0`填充。

以下可選標記可以跟在`"%"`後:

| 標記      | 說明                       |
| --------- | -------------------------- |
| –(連字元) | 不填充該域                 |
| _(下劃線) | 以空格填充                 |
| 0(數字0)  | 以0 填充                   |
| ^         | 如果可能，使用大寫字母     |
| #         | 如果可能，使用相反的大小寫 |

在任何標記之後還允許一個可選的域寬度指定，它是一個十進位制數字。
作為一個可選的修飾宣告，它可以是E，在可能的情況下使用本地環境關聯的
表示方式；或者是O，在可能的情況下使用本地環境關聯的數字符號。

## 基本操作
1. 顯示當前時間
```shell
date

# output
Thu Oct 28 13:41:53 CST 2021
```
2. 使用字串顯示時間
```shell
date -d now or date  --date="now" # 現在時間


date -d yesterday or --date="yesterday" # 昨天

date -d "1 days ago" or --date="1 days ago" # 昨天

date -d "1 days" or --date="1 days" # 明天

date -d "1 years ago" or --date="1 years ago" # 去年

date -d "Monday" or --date="Monday" #未來的週一

date -d "last Monday" or --date="last Monday" # 上週一

date --date="5 sec ago" # 五秒前

date --date="next tue" # 下週二

```

3. 使用字串顯示時間並按照自己的格式
```shell
date --date="3 days"  +"%Y %_m-%d, %a ,%H:%-M"
```

4. 使用自訂格式顯示時間
```shell
date '+%c'

date '+%D'

date '+%x'

date '+%T'
```

5. 設定時間，將時間設定為 2016/11/11 早上 10:21:32
```shell
date -s "Fri, 11 Nov 2016 10:21:32 CST" or --set="Fri, 11 Nov 2016 10:21:32 CST" 

date -s "2016/11/11 10:21:32"

date -s "2016-11-11 10:21:32"

date -s "20161111 10:21:32"
```

## 參考資料
https://codertw.com/%E5%89%8D%E7%AB%AF%E9%96%8B%E7%99%BC/392531/

https://man7.org/linux/man-pages/man1/date.1.html

https://www.geeksforgeeks.org/date-command-linux-examples/
## 相關指令
* timedatectl
* hwclock